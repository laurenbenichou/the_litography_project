<!-- Search Bar -->
<!-- <input ng-hide="isVisible" class="search" ng-model="query"> -->

<!-- <ul class="no-display">
  <li ng-repeat="marker in filteredMarkers = (markers | filter:query)" >
  {{marker.title}}
    </li>
  </ul> -->

  <!-- Upper Menu -->
  <div ng-hide="isVisible" class="upper-menu">
    <div class="upper-logo">
      <%= image_tag("upper-logo.png")%>
    </div>
    <ul>
      <li>About</li>
      <li>How To</li>
      <li>Pitch Guide</li>
      <li>Report An Error</li>
    </ul>
  </div>


  <!-- Global Player : WORK ON IT AFTER EVERYTHING ELSE IS DONE-->

<!-- <div ng-hide="isVisible" id="global-player" plangular>
  <p>{{ player.currentTrack.user.username || 'No Track selected'}} </p>
  <p> {{ player.currentTrack.title || '' }} </p>
      <button ng-click="previous()">
        <svg plangular-icon="previous"></svg>
      </button>
      <button ng-click="player.playPause(player.i, player.playlistIndex)">
        <span ng-if="!player.playing"><svg plangular-icon="play"></svg></span>
        <span ng-if="player.playing"><svg plangular-icon="pause"></svg></span>
      </button>
      <button  ng-click="next()">
        <svg plangular-icon="next"></svg>
      </button>
  <progress value="{{ player.currentTime / player.duration || 0 }}"
    ng-click="player.seek($event)">
    {{ player.currentTime / duration }}
  </progress>
  <p>{{ player.currentTime | prettyTime }} - {{ player.duration | prettyTime }}</p>
</div> -->


<!-- Map -->
<leaflet ng-hide="isVisible" defaults="defaults" markers="markers" layers="layers" height="100%" width="100%" maxbounds="maxbounds" ></leaflet>

<!-- Hamburger Menu Button -->
<div ng-hide="isVisible" class="ham-menu">
  <div class="off-canvas__container off-canvas__content">
    <a href ng-click="toggleNav(); toggle = !toggle" ng-class="{'active' : toggle}" id="hamburger-icon">
      <span class="line line-1"></span>
      <span class="line line-2"></span>
      <span class="line line-3"></span>
      <span class="menu-text">Menu</span>
    </a>
  </div>
</div>

<!-- Menu/nav bar -->
<nav class="off-canvas__nav">
 <div class="menu">

  <!-- Authors -->
  <span class="dropdown" on-toggle="toggled(open)">
      <a href class="dropdown-toggle">
        Authors
      </a>

      <flex-slider ng-click="$event.stopPropagation()" class="dropdown-menu authors" slide="author in authors track by $index" control-nav="false" selector= ".slides > a > li" item-width="300px" slideshow="false" direction-nav="true" move="3" max-items="3" prev-text="" next-text="" animation="slide">
        <a ng-click="$event.stopPropagation()" href ui-sref="home.authors({ author_id: author.id })"><li><em>{{author.first_name}}<br/><strong>{{author.last_name}}</strong></em></li></a>
    </flex-slider>
  </span>

    <!-- Stories -->
    <span class="dropdown" on-toggle="toggled(open)">
      <a href class="dropdown-toggle">Stories</a>
      <ul class="dropdown-menu stories">
        <li>
          <a ng-click="$event.stopPropagation(); toggleOverlays('allStories')" href>All Past</a>
        </li>
        <li>
          <a ng-click="$event.stopPropagation(); toggleOverlays('lastMonth')" href>Last Month's</a>
        </li>
        <li>
          <a ng-click="$event.stopPropagation(); toggleOverlays('thisMonth')" href>This Month's</a>
        </li>
      </ul>
    </span>

    <!-- Calendar -->
    <a class="bogus">Calendar</a>
    <a class="bogus">Blog</a>
  </div>
</nav>
